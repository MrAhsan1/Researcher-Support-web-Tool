function myFunction() {
    var x = document.getElementById("form1");
    var caret = document.getElementById("caret");
    if (x.style.display === "none") {
        x.style.display = "block";
        caret.className = "fa fa-caret-down";
    } else {
        x.style.display = "none";
        caret.className = "fa fa-caret-right";
    }
}


function myFunction1() {
    var x = document.getElementById("form2");
    var caret = document.getElementById("caret1");
    if (x.style.display === "none") {
        x.style.display = "block";
        caret.className = "fa fa-caret-down";
    } else {
        x.style.display = "none";
        caret.className = "fa fa-caret-right";
    }
}

function myFunction2() {
    var x = document.getElementById("form3");
    var caret = document.getElementById("caret2");
    if (x.style.display === "none") {
        x.style.display = "block";
        caret.className = "fa fa-caret-down";
    } else {
        x.style.display = "none";
        caret.className = "fa fa-caret-right";
    }
}

function myFunction3() {
    var x = document.getElementById("form4");
    var caret = document.getElementById("caret3");
    if (x.style.display === "none") {
        x.style.display = "block";
        caret.className = "fa fa-caret-down";
    } else {
        x.style.display = "none";
        caret.className = "fa fa-caret-right";
    }
}

//Favorites
$('.favoritepaper').on('click', function(event){
    event.preventDefault();
    paperId = event.target.parentNode.parentNode.dataset['paperid'];
    paperiId = event.target.parentNode.dataset['paperiid'];
    
    var isFavorite = event.target.previousElementSibling == null;

    
    $.ajax({
        method: 'POST',
        url: urlFavorite,
        data: {isFavorite: isFavorite, paperId: paperId, _token: token},

    })
        .done(function(result) {
            if(result == 'Save')
            {
                console.log(paperiId);
                if(paperId == paperiId)
                {
                    alert("Add to Favorite");
                    $('#changetxt1'+paperId).removeClass('heart fa fa-heart-o').addClass('heart fa fa-heart');
                }
            }
            else
            {
                
                if(paperId == paperiId)
                {
                    alert("Remove to Favorite");
                    $('#changetxt1'+paperId).removeClass('heart fa fa-heart').addClass('heart fa fa-heart-o');
                    //$('#changetxt1').removeClass('heart fa fa-heart').addClass('heart fa fa-heart-o');
                }
            }
            //event.target.innerText = isFavorite ? event.target.innerText == 'Favorite' ? 'Unfavorite' : 'Favorite';
        });
});
